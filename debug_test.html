<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8">
    <h1>Testing Checkbox Toggle</h1>
    
    <div class="space-y-4">
        <div class="flex items-center space-x-4">
            <div class="flex items-center">
                <input type="checkbox" id="testCheckbox" class="mr-2">
                <label for="testCheckbox">Enable Test Ratio</label>
            </div>
            <div id="testContainer" class="hidden flex items-center space-x-2">
                <label>Ratio:</label>
                <input type="number" step="0.01" min="0.1" max="1.0" class="w-20 p-1 border border-gray-300 rounded">
            </div>
        </div>
    </div>

    <script>
        function setupToggle(checkboxId, containerId) {
            const checkbox = document.getElementById(checkboxId);
            const container = document.getElementById(containerId);
            
            console.log(`Setting up toggle for ${checkboxId}:`, checkbox, container);
            
            if (checkbox && container) {
                const toggleVisibility = () => {
                    console.log(`Toggling ${checkboxId}: checked=${checkbox.checked}`);
                    if (checkbox.checked) {
                        container.classList.remove('hidden');
                    } else {
                        container.classList.add('hidden');
                    }
                };
                
                // Set initial state
                toggleVisibility();
                
                // Add the event listener
                checkbox.addEventListener('change', toggleVisibility);
            } else {
                console.error(`Could not find elements: ${checkboxId} or ${containerId}`);
            }
        }

        // Set up after DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            setupToggle('testCheckbox', 'testContainer');
        });
    </script>
</body>
</html>
